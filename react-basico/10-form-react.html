<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11/09 Formulário React</title>
</head>
<body>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <div id="root"></div>

    <script type="text/babel">
    function Form() {
        // Referências
        const nomeRef = React.useRef();
        const maiuscRef = React.useRef();
        const resultadoRef = React.useRef();

        // Funções precisam estar dentro do componente!
        function handleChange() {
            const maiusc = maiuscRef.current.checked;
            const nome = maiusc ? nomeRef.current.value.toUpperCase() : nomeRef.current.value;
            resultadoRef.current.textContent = nome;
        }

        function handleSubmit(event) {
            event.preventDefault();
            const nome = resultadoRef.current.textContent;
            alert(`Olá, ${nome}!`);
        }

        return (
            <>
                <h1>Formulário React</h1>
                <form onSubmit={handleSubmit}>
                    <div>
                        <label>
                            <span>Nome:</span>
                            <input type="text" ref={nomeRef} onInput={handleChange} />
                        </label>
                    </div>
                    <div>
                        <label>
                            <input type="checkbox" ref={maiuscRef} onChange={handleChange} />
                            <span>Colocar o nome em letra maiúscula</span>
                        </label>
                    </div>
                    <div>
                        <input type="submit" value="Enviar" />
                    </div>
                </form>
                <div
                    id="resultado"
                    ref={resultadoRef}
                    style={{
                        marginTop: "18px",
                        fontSize: "22px",
                        color: "#1371ff",
                        fontWeight: "bold",
                        textAlign: "center",
                        minHeight: "28px"
                    }}
                ></div>
            </>
        );
    }

    //Query Selector é equivalente a document.getElementById() no React
    const root = ReactDOM.createRoot(document.querySelector("#root"));
    root.render(<Form />);
</script>
</body>
</html>