<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 12/09 - André</title>
</head>

<body style="text-align: center;">
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <div id="root"></div>

    <script type="text/babel">
        /*
        1) Crie um formulário em React e coloque nele um input numérico com o label "Valor em reais".
    
        2) Coloque outro input numérico com o label "Cotação do dólar".
    
        3) Coloque, também, uma div para exibir o resultado da conversão de moeda.
    
        4) Crie e coloque hooks useRef nos três elementos criados.
    
        5) Escreva uma única função handleChange para interceptar a mudança 
          nos dois inputs, efetuar o cálculo da conversão e atualizar o valor
          de uma variável com o resultado.
    
        6) Usando a variável que foram atualizada em handleChange, 
          exiba na div de resultado o valor convertido.
    
        7) Observação: neste formulário não há o botão de enviar. Portanto, não é necessário
          ter a função handleSubmit nem chamá-la no onSubmit do form.
    
        8) Faça o necessário para que o formulário seja renderizado ao exibir a página.
        */
        function Form() {
            const valorRef = React.useRef();
            const cotacaoRef = React.useRef();
            const resultadoRef = React.useRef();

            function handleChange() {
                const valor = Number(valorRef.current.value);
                const cotacao = Number(cotacaoRef.current.value);
                let resultado;
                if (!valor || !cotacao) {
                    resultado = 0;
                } else {
                    resultado = (valor / cotacao).toFixed(2);
                }
                resultadoRef.current.textContent = `Valor em dólar = US$ ${resultado}`;
            }

            return (
                <>
                    <h1>Formulário Conversão R$ ➔ US$</h1>
                    <form style={{
                        border:" 3px solid black",
                        width: "400px",
                        margin: "0 auto",
                        padding: "50px",
                        borderRadius: "15px 0 15px 0",
                        fontSize: "17px"
                    }}>
                        <div>
                            <label>
                                <span><b>Valor em R$: </b></span>
                                <input type="number" ref={valorRef} onInput={handleChange} style={{ border: "1px solid black", borderRadius: "5px", padding: "5px", fontSize: "16px", fontWeight: "bold", marginBottom: "10px" }} />
                            </label>
                        </div>
                        <div>
                            <label>
                                <span><b>Cotação do Dólar: </b></span>
                                <input type="number" ref={cotacaoRef} onInput={handleChange}

                                style=
                                {{ border: "1px solid black",
                                   borderRadius: "5px", 
                                   padding: "5px", 
                                   fontSize: "16px", 
                                   fontWeight: "bold" 
                                }} />

                            </label>
                        </div>
                    </form>
                    <div
                        id="resultado"
                        ref={resultadoRef}

                        style={{
                            marginTop: "18px",
                            fontSize: "22px",
                            color: "blue",
                            fontWeight: "bold",
                            textAlign: "center"
                        }}

                    ></div>
                </>
            );
        }

        const root = ReactDOM.createRoot(document.querySelector("#root"));
        root.render(<Form />);
    </script>

</body>

</html>